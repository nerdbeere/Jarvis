{"version":3,"sources":["Jarvis.js"],"names":[],"mappings":";;;;;;;;AAAA;;;;AACA;;;;;;IAEM,M;AAEJ,kBAAY,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,SAAK,MAAL,GAAc,KAAd;AACA,SAAK,IAAL,GAAY,IAAI,kBAAQ,MAAZ,EAAZ;;AAEA,SAAK,IAAL,CAAU,EAAV,CAAa,SAAb,EAAwB,UAAC,OAAD,EAAa;AACjC,UAAI,WAAW,mBAAS,QAAQ,QAAjB,CAAf;AACA,UAAI,SAAS,GAAT,CAAa;AAAA,eAAK,EAAE,QAAF,IAAc,WAAnB;AAAA,OAAb,CAAJ,EACE,MAAK,cAAL,CAAoB,OAApB;AACH,KAJH;AAKD;;;;4BAEO,K,EAAO;AACb,WAAK,IAAL,CAAU,cAAV,CAAyB,KAAzB,EACK,IADL,CACU,YAAM;AACR,gBAAQ,GAAR,CAAY,YAAZ;AACD,OAHP,EAIK,KAJL,CAIW,UAAC,GAAD,EAAS;AACZ,gBAAQ,GAAR,CAAY,GAAZ;AACD,OANP;AAOD;;;mCAEc,O,EAAS;AACtB,UAAI,cAAc,KAAK,MAAL,CAAY,OAAZ,CAAoB,QAAQ,OAA5B,CAAlB;AACA,UAAI,WAAW,CAAf;AACA,UAAI,gBAAJ;AACA,WAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,YAAY,MAAhC,EAAwC,GAAxC,EAA6C;AAC3C,YAAI,YAAY,CAAZ,EAAe,UAAf,GAA4B,QAAhC,EAA0C;AACxC,qBAAW,YAAY,CAAZ,EAAe,UAA1B;AACA,oBAAU,YAAY,CAAZ,EAAe,OAAzB;AACD;AACF;;AAED,UAAI,WAAW,GAAf,EAAoB;AAClB,gBAAQ,GAAR,CAAY,WAAZ;AACA,aAAK,IAAL,CAAU,KAAV,CAAgB,OAAhB,EAAyB,uBAAzB;AACD,OAHD,MAGM;AACJ,aAAK,IAAL,CAAU,KAAV,CAAgB,OAAhB,EAAyB,OAAzB;AACD;AACF;;;;;;kBAGY,M","file":"Jarvis.js","sourcesContent":["import Discord from 'discord.js';\nimport { LINQ } from 'node-linq';\n\nclass Jarvis {\n\n  constructor(brain) {\n    this._brain = brain;\n    this._bot = new Discord.Client();\n\n    this._bot.on('message', (message) => {\n        let mentions = new LINQ(message.mentions);\n        if (mentions.Any(e => e.username == 'jk-jarvis'))\n          this._handleMessage(message);\n      });\n  }\n\n  connect(token) {\n    this._bot.loginWithToken(token)\n        .then(() => {\n            console.log('connected.');\n          })\n        .catch((err) => {\n            console.log(err);\n          });\n  }\n\n  _handleMessage(message) {\n    let predictions = this._brain.predict(message.content);\n    let sureness = 0;\n    let command;\n    for (let i = 0; i < predictions.length; i++) {\n      if (predictions[i].prediction > sureness) {\n        sureness = predictions[i].prediction;\n        command = predictions[i].command;\n      }\n    }\n\n    if (sureness < 0.7) {\n      console.log(predictions);\n      this._bot.reply(message, 'I did not understand.');\n    }else {\n      this._bot.reply(message, command);\n    }\n  }\n}\n\nexport default Jarvis;\n"],"sourceRoot":"d:\\Workspace\\jkgaming\\jarvis\\src"}